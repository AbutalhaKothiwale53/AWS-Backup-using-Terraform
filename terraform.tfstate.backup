{
  "version": 4,
  "terraform_version": "1.12.1",
  "serial": 9,
  "lineage": "f3fbed8b-ee2a-5c97-7e9d-26b9ffede374",
  "outputs": {
    "backup_plan_arn": {
      "value": "arn:aws:backup:ap-south-1:768149208037:backup-plan:61fe5b76-cbfd-4e4d-8202-fa51e23fb800",
      "type": "string"
    },
    "backup_plan_id": {
      "value": "61fe5b76-cbfd-4e4d-8202-fa51e23fb800",
      "type": "string"
    },
    "backup_role_arn": {
      "value": "arn:aws:iam::768149208037:role/AWSBackupDefaultServiceRole",
      "type": "string"
    },
    "backup_vault_arn": {
      "value": "arn:aws:backup:ap-south-1:768149208037:backup-vault:Automated_Test_Vault",
      "type": "string"
    },
    "backup_vault_name": {
      "value": "Automated_Test_Vault",
      "type": "string"
    },
    "ec2_selection_id": {
      "value": "9c4b60c9-faeb-45fd-818d-090ad95a1d90",
      "type": "string"
    },
    "schedule_expression": {
      "value": "cron(30 08 * * ? * )",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "backup_assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "aws_backup_plan",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "advanced_backup_setting": [],
            "arn": "arn:aws:backup:ap-south-1:768149208037:backup-plan:61fe5b76-cbfd-4e4d-8202-fa51e23fb800",
            "id": "61fe5b76-cbfd-4e4d-8202-fa51e23fb800",
            "name": "Automated_Test_Backup_Plan",
            "rule": [
              {
                "completion_window": 120,
                "copy_action": [],
                "enable_continuous_backup": false,
                "lifecycle": [
                  {
                    "cold_storage_after": 0,
                    "delete_after": 1,
                    "opt_in_to_archive_for_supported_resources": false
                  }
                ],
                "recovery_point_tags": {
                  "BusinessUnit": "Automn",
                  "Environment": "Production",
                  "Name": "Automated_Test_Backup_Rule_Recovery_Point",
                  "Owner": "Abutalha",
                  "Project": "Automation",
                  "ProjectCode": "ABCD"
                },
                "rule_name": "Automated_Test_Backup_Rule",
                "schedule": "cron(30 08 * * ? * )",
                "schedule_expression_timezone": "Etc/UTC",
                "start_window": 60,
                "target_vault_name": "Automated_Test_Vault"
              }
            ],
            "tags": {
              "BusinessUnit": "Automn",
              "Environment": "Production",
              "Name": "Automated_Test_Backup_Plan",
              "Owner": "Abutalha",
              "Project": "Automation",
              "ProjectCode": "ABCD"
            },
            "tags_all": {
              "BusinessUnit": "Automn",
              "Environment": "Production",
              "Name": "Automated_Test_Backup_Plan",
              "Owner": "Abutalha",
              "Project": "Automation",
              "ProjectCode": "ABCD"
            },
            "version": "NTE3N2FhM2ItY2I5MS00YjNmLTg4MjgtMzBkMjgwN2UwMWNj"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_backup_vault.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_backup_selection",
      "name": "ec2_selection",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "condition": [
              {
                "string_equals": [],
                "string_like": [],
                "string_not_equals": [],
                "string_not_like": []
              }
            ],
            "iam_role_arn": "arn:aws:iam::768149208037:role/AWSBackupDefaultServiceRole",
            "id": "9c4b60c9-faeb-45fd-818d-090ad95a1d90",
            "name": "Automated_Test_Resources_EC2",
            "not_resources": [],
            "plan_id": "61fe5b76-cbfd-4e4d-8202-fa51e23fb800",
            "resources": [
              "arn:aws:ec2:ap-south-1:768149208037:instance/i-0ecec8d2f0ee7fde5"
            ],
            "selection_tag": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_backup_plan.main",
            "aws_backup_vault.main",
            "aws_iam_role.backup_role",
            "data.aws_iam_policy_document.backup_assume_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_backup_selection",
      "name": "rds_selection",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "aws_backup_vault",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:backup:ap-south-1:768149208037:backup-vault:Automated_Test_Vault",
            "force_destroy": false,
            "id": "Automated_Test_Vault",
            "kms_key_arn": "arn:aws:kms:ap-south-1:768149208037:key/28a403b9-aca0-4e45-8904-fb1047c4fda3",
            "name": "Automated_Test_Vault",
            "recovery_points": 0,
            "tags": {
              "BusinessUnit": "Automn",
              "CreatedOn": "2025-07-22T17:25:30Z",
              "Environment": "Production",
              "Name": "Automated_Test_Vault",
              "Owner": "Abutalha",
              "Project": "Automation",
              "ProjectCode": "ABCD"
            },
            "tags_all": {
              "BusinessUnit": "Automn",
              "CreatedOn": "2025-07-22T17:25:30Z",
              "Environment": "Production",
              "Name": "Automated_Test_Vault",
              "Owner": "Abutalha",
              "Project": "Automation",
              "ProjectCode": "ABCD"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "backup_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "backup_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "restore_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "var.weekly_start_day",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.weekly_start_day",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.backup_frequency",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.backup_frequency",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.monthly_start_day",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.monthly_start_day",
          "status": "pass"
        }
      ]
    }
  ]
}
